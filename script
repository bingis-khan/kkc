#!./zig-out/bin/kkc
use Term
use Cnile
	Void


# inst Str Record
# 	print-str (self _)
# 		r = self.cock
# 		s = self.dupsko.miau
# 		print-str('Record { dupsko: { miau: \(s) }, cock: \(r) }')


# x = Record { dupsko: {miau: False }, cock: &2 }
# Term.println(x)
# x <.cock&= 79
# Term.println(x)
# x <.dupsko.miau= True
# Term.println(x)

x = 1 # asdasdasdas
    # asd
	   # asd


Record
	cock Int
inst Str Record
	print-str (self _)
		r = self.cock
		print-str('Record { cock: \(r) }')

ayo = Just(Record { cock: 1 })
Term.println(ayo)
case ayo
	Just({ cock })
		cock <= 2
		Term.println(cock)
Term.println(ayo)


xxx = True
yyy = @cast(xxx) + 0

ptr =& @undefined
ptr <&= { x: 420, y: 1337, z: Unit, b: Just(True)}
Term.println(ptr&.b)

x =& Unit

fn cast-int (x): @cast(x) + 0


Term.println(cast-int(x))
Term.println(cast-int(@offset-ptr(x, 12)))
