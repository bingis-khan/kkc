use Cnile

class Str
	# later should write to some buffer instead of printing directly.
	print-str (self _) -> Unit
	# chars (self _) -> iter

inst Str Int
	print-str (self Int) -> Unit
		Cnile.printf1('%d', self)
		return

inst Str ConstStr
	print-str (self _) -> Unit
		Cnile.printf1('%s', self)
		return

inst Str StrConcat
	print-str (self _) -> Unit
		case self
			StrConcat(l, r)
				print-str(l)
				print-str(r)
				return


inst Str Ptr
	print-str (self _)
		_ = print-str(self&)
		return
