Int
Bool
	False  # will get assigned 0
	True   # then 1

Unit
	Unit

#[ctype 'const char*']
ConstStr

#[ctype 'void']
Void

#[cfunname 'printf', dylib 'libc.so']
external printf0(format ConstStr) -> Void

#[cfunname 'printf', dylib 'libc.so']
external printf1(format ConstStr, x a) -> Void

#[cfunname 'printf', dylib 'libc.so']
external printf3(format ConstStr, x a, y b, z c) -> Void

class ToInt
	to-int (self _) -> Int

inst ToInt Int
	to-int (self _)
		return self

StrConcat l r
	StrConcat l r

inst ToInt StrConcat
	to-int (self _)
		case self
			StrConcat(l, r)
				return to-int(l) + to-int(r)

x = printf1('%d\n', to-int(StrConcat(1, StrConcat(2, StrConcat(3, 45)))))
