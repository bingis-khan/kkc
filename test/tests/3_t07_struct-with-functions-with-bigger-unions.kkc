#= disabled
#$ Struct with functions (as type parameters) with environments (bigger unions, more envs.)
# 543
# 1337
# 2423


MyTuple a b
	MyTuple a b

fn bool (cond, if-true, if-false)
	if cond
		return if-true
	else
		return if-false

fn call-both (tup)
	case tup
		MyTuple(f, f')
			res = f()
			res' = f'()
			println(res + res')  # some more mangling

	return


x = 123
y = 420
fn sum-env ()
	sum = x + y
	println(sum)
	return sum  # random ass return value (should be okay!)

const = 420
fn just-return-const ()
	return const

z = 1337
fn miau ()
	println(z)
	return x + y + z

t = MyTuple(sum-env, bool(False, just-return-const, miau))
call-both(t)
